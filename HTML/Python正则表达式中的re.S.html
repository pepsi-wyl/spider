 
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
    <p class="site-subtitle">给时光以生命。</p> <p>在Python的正则表达式中，有一个参数为re.S。它表示“.”（不包含外侧双引号，下同）的作用扩展到整个字符串，包括“\n”。看如下代码：<br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/></pre></td><td class="code"><pre><span class="line">import re</span><br/><span class="line">a = '''asdfsafhellopass:</span><br/><span class="line">	234455</span><br/><span class="line">	worldafdsf</span><br/><span class="line">	'''</span><br/><span class="line">b = re.findall('hello(.*?)world'a)</span><br/><span class="line">c = re.findall('hello(.*?)world'are.S)</span><br/><span class="line">print 'b is '  b</span><br/><span class="line">print 'c is '  c</span><br/></pre></td></tr></table></figure></p> <p>运行结果如下：<br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/></pre></td><td class="code"><pre><span class="line">b is  []</span><br/><span class="line">c is  ['pass:\n\t234455\n\t']</span><br/></pre></td></tr></table></figure></p> <p>正则表达式中，“.”的作用是匹配除“\n”以外的任何字符，也就是说，它是在一行中进行匹配。这里的“行”是以“\n”进行区分的。a字符串有每行的末尾有一个“\n”，不过它不可见。</p> <p>如果不使用re.S参数，则只在每一行内进行匹配，如果一行没有，就换下一行重新开始，不会跨行。而使用re.S参数以后，正则表达式会将这个字符串作为一个整体，将“\n”当做一个普通的字符加入到这个字符串中，在整体中进行匹配。</p> <p>在re.py库的介绍中有以下语句：</p> <p>“.” Matches any character except a newline.</p> <p>S DOTALL “.” matches any character at all including the newline.</p> <p>这里特别感谢评论中叫做Style的朋友指出了我的错误。</p> <p class="site-author-name" itemprop="name">谢乾坤 | Kingname</p> <p class="site-description motion-element" itemprop="description">高级数据挖掘工程师，《Python 爬虫开发 从入门到实战》、《左手 MongoDB 右手 Redis——从入门到商业实战》作者。 微软最有价值专家 MVP，Python Scrapy MongoDB Redis Pandas Golang。</p>
    </body>
    </html>
    